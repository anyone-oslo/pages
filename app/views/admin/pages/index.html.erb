<%
  self.page_title = "Pages"
  self.page_description = "All pages / " + link_to("Deleted pages", deleted_admin_pages_path(@locale))

  if PagesCore.config.localizations?
    self.page_description_links = 'In ' + PagesCore.config.locales.map{ |l, n| link_to_unless_current n, admin_pages_path(l) }.join(link_separator)
  end
%>

<% content_for :sidebar do %>
<% end %>

<div class="content">
  <%= react_component(
    "PageTree", {
      tree: {
        name: "All Pages",
        locale: @locale,
        children: ActiveModel::Serializer::CollectionSerializer.new(
          @root_pages,
          serializer: PageTreeSerializer,
          scope: current_user
        )
      }
    }
  ) %>
</div>
