<%
  self.page_title = "Pages"
  self.page_description = "Viewing pages"

  if PagesCore.config.localizations?
    self.page_description_links = 'In ' + PagesCore.config.locales.map{ |l, n| link_to_unless_current n, admin_pages_path(l) }.join(link_separator)
  end
%>

<% content_for :sidebar do %>
<% end %>

<div class="content">
  <% if @root_pages.length < 1 -%>
    <p>No pages found</p>
  <% else -%>
    <%= react_component(
      "PageTree", {
        tree: {
          name: "All Pages",
          children: ActiveModel::ArraySerializer.new(
            @root_pages,
            each_serializer: PageTreeSerializer
          )
        }
      }
    ) %>
  <% end -%>
</div>
